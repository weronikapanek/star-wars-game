{"ast":null,"code":"import { takeUntil } from \"rxjs/operators\";\nimport { Subject } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api-data.service\";\nimport * as i2 from \"@angular/common\";\n\nfunction PlayingAreaComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Play the game to find a winner\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PlayingAreaComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"The winner in this game was... \", ctx_r1.winner, \"\");\n  }\n}\n\nfunction PlayingAreaComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"No winner in this round\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PlayingAreaComponent_div_15_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const card_r5 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Name: \", card_r5.name, \"\");\n  }\n}\n\nfunction PlayingAreaComponent_div_15_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const card_r5 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Mass: \", card_r5 == null ? null : card_r5.mass, \"\");\n  }\n}\n\nfunction PlayingAreaComponent_div_15_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const card_r5 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Crew: \", card_r5 == null ? null : card_r5.crew, \"\");\n  }\n}\n\nfunction PlayingAreaComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtemplate(1, PlayingAreaComponent_div_15_div_1_Template, 2, 1, \"div\", 8);\n    i0.ɵɵtemplate(2, PlayingAreaComponent_div_15_div_2_Template, 2, 1, \"div\", 9);\n    i0.ɵɵtemplate(3, PlayingAreaComponent_div_15_div_3_Template, 2, 1, \"div\", 10);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const card_r5 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", card_r5.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", card_r5.mass);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", card_r5.crew);\n  }\n}\n\nfunction PlayingAreaComponent_div_16_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const card_r12 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Name: \", card_r12.name, \"\");\n  }\n}\n\nfunction PlayingAreaComponent_div_16_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const card_r12 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Mass: \", card_r12 == null ? null : card_r12.mass, \"\");\n  }\n}\n\nfunction PlayingAreaComponent_div_16_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const card_r12 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Crew: \", card_r12 == null ? null : card_r12.crew, \"\");\n  }\n}\n\nfunction PlayingAreaComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtemplate(1, PlayingAreaComponent_div_16_div_1_Template, 2, 1, \"div\", 8);\n    i0.ɵɵtemplate(2, PlayingAreaComponent_div_16_div_2_Template, 2, 1, \"div\", 9);\n    i0.ɵɵtemplate(3, PlayingAreaComponent_div_16_div_3_Template, 2, 1, \"div\", 10);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const card_r12 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", card_r12.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", card_r12.mass);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", card_r12.crew);\n  }\n}\n\nexport let PlayingAreaComponent = /*#__PURE__*/(() => {\n  class PlayingAreaComponent {\n    constructor(apiDataService) {\n      this.apiDataService = apiDataService;\n      this.charactersArray = [];\n      this.starshipsArray = [];\n      this.winner = '';\n      this.player1Score = 0;\n      this.player2Score = 0;\n      this.destroy$ = new Subject();\n    }\n\n    ngOnInit() {\n      this.apiDataService.getCharacters().pipe(takeUntil(this.destroy$)).subscribe(characters => {\n        this.charactersArray = [...characters.results];\n      });\n      this.apiDataService.getStarships().pipe(takeUntil(this.destroy$)).subscribe(starships => {\n        this.starshipsArray = [...starships.results];\n      });\n    }\n\n    drawPeople() {\n      if (this.charactersArray) {\n        const randomNumber1 = this.getRandomNumber(this.charactersArray.length);\n        const randomNumber2 = this.getRandomNumber(this.charactersArray.length);\n        this.card1 = this.charactersArray[randomNumber1];\n        this.card2 = this.charactersArray[randomNumber2];\n        this.checkWinner(this.card1, this.card2);\n      }\n    }\n\n    drawStarships() {\n      if (this.starshipsArray) {\n        const randomNumber1 = this.getRandomNumber(this.starshipsArray.length);\n        const randomNumber2 = this.getRandomNumber(this.starshipsArray.length);\n        this.card1 = this.starshipsArray[randomNumber1];\n        this.card2 = this.starshipsArray[randomNumber2];\n        this.checkWinner(this.card1, this.card2);\n      }\n    }\n\n    checkWinner(card1, card2) {\n      let attr1, attr2;\n\n      if (Object.keys(card1).includes(\"mass\")) {\n        attr1 = card1.mass;\n        attr2 = card2.mass;\n      } else {\n        attr1 = card1.crew;\n        attr2 = card2.crew;\n      }\n\n      if (attr1 === \"unknown\" || attr2 === \"unknown\" || attr1 === attr2) {\n        return this.winner = 'draw';\n      } else if (attr1 > attr2) {\n        this.player1Score++;\n        return this.winner = 'P1';\n      } else if (attr1 < attr2) {\n        this.player2Score++;\n        return this.winner = 'P2';\n      } else {\n        return;\n      }\n    }\n\n    getRandomNumber(max) {\n      return Math.floor(Math.random() * max);\n    }\n\n    ngOnDestroy() {\n      this.destroy$.next(true);\n      this.destroy$.unsubscribe();\n    }\n\n  }\n\n  PlayingAreaComponent.ɵfac = function PlayingAreaComponent_Factory(t) {\n    return new (t || PlayingAreaComponent)(i0.ɵɵdirectiveInject(i1.ApiDataService));\n  };\n\n  PlayingAreaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PlayingAreaComponent,\n    selectors: [[\"app-playing-area\"]],\n    decls: 17,\n    vars: 9,\n    consts: [[1, \"container\"], [3, \"disabled\", \"click\"], [1, \"container__result\"], [4, \"ngIf\"], [1, \"container__players-scores\"], [1, \"container__cards-container\"], [\"class\", \"container__cards-container-card\", 4, \"ngIf\"], [1, \"container__cards-container-card\"], [\"class\", \"container__person-card-name\", 4, \"ngIf\"], [\"class\", \"container__person-card-mass\", 4, \"ngIf\"], [\"class\", \"container__person-card-crew\", 4, \"ngIf\"], [1, \"container__person-card-name\"], [1, \"container__person-card-mass\"], [1, \"container__person-card-crew\"]],\n    template: function PlayingAreaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function PlayingAreaComponent_Template_button_click_1_listener() {\n          return ctx.drawPeople();\n        });\n        i0.ɵɵtext(2, \"Star game between people!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function PlayingAreaComponent_Template_button_click_3_listener() {\n          return ctx.drawStarships();\n        });\n        i0.ɵɵtext(4, \"Star game between starships!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 2);\n        i0.ɵɵtemplate(6, PlayingAreaComponent_div_6_Template, 2, 0, \"div\", 3);\n        i0.ɵɵtemplate(7, PlayingAreaComponent_div_7_Template, 2, 1, \"div\", 3);\n        i0.ɵɵtemplate(8, PlayingAreaComponent_div_8_Template, 2, 0, \"div\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 4)(10, \"div\");\n        i0.ɵɵtext(11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\");\n        i0.ɵɵtext(13);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"div\", 5);\n        i0.ɵɵtemplate(15, PlayingAreaComponent_div_15_Template, 4, 3, \"div\", 6);\n        i0.ɵɵtemplate(16, PlayingAreaComponent_div_16_Template, 4, 3, \"div\", 6);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", ctx.charactersArray.length === 0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.starshipsArray.length === 0);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", !ctx.winner);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.winner === \"P1\" || ctx.winner === \"P2\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.winner === \"draw\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"P1 score is \", ctx.player1Score, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"P2 score is \", ctx.player2Score, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.card1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.card2);\n      }\n    },\n    dependencies: [i2.NgIf],\n    styles: [\".container[_ngcontent-%COMP%]{min-height:85vh;background-color:#000;color:#fff;text-align:center;text-transform:uppercase}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;background-color:#000;border:3px solid yellow;color:#ff0;margin:15px;border-radius:5px;width:280px;text-transform:uppercase}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:gray}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer}.container__result[_ngcontent-%COMP%]{margin-bottom:20px}.container__players-scores[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.container__players-scores[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 15px;border:3px solid yellow;border-radius:5px}.container__cards-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.container__cards-container-card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;color:#ff0;width:250px;height:300px;border:3px solid yellow;padding:10px 15px;margin:15px;border-radius:5px}\"]\n  });\n  return PlayingAreaComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}